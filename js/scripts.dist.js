var $pokeList=$(".pokeList"),pokemonRepository=function(){var o=[],n="https://pokeapi.co/api/v2/pokemon/?limit=150",t=$("#modal-container");function e(){t.modal("hide")}function i(n){o.push(n)}return $(window).on("keydown",o=>{"Escape"===o.key&&t.hasClass("is-visible")&&e()}),t.on("click",()=>{e()}),{add:i,addListItem:function(o){var n=$('<button class="btn pokeDex">'+o.name+"</button>"),t=$("<li></li>");$pokeList.append(t),t.append(n),n.on("click",function(){pokemonRepository.showDetails(o)})},showDetails:function(o){pokemonRepository.loadDetails(o).then(function(){console.log(o),pokemonRepository.showModal(o.name,o.imageUrl)})},getAll:function(){return o},loadList:function(){return $.ajax(n,{dataType:"json"}).then(function(o){return o}).then(function(o){$.each(o.results,function(o,n){i({name:n.name,detailsUrl:n.url})})}).catch(function(o){console.error(o)})},loadDetails:function(o){var n=o.detailsUrl;return $.ajax(n,{dataType:"json"}).then(function(o){return o}).then(function(n){o.imageUrl=n.sprites.front_default,o.height=n.height,o.types=Object.keys(n.types)}).catch(function(o){console.error(o)})},showModal:function(o,n){var i=$(".modal-body");$(".modal-close").on("click",function(){e()});var a=$(".modal-title");a.length&&(a.empty(),i.empty()),a.append(o);var s=$("<img>");s.attr("src",n),i.append(s),t.modal("show")},hideModal:e}}();let $gen1=$(".gen1");$gen1.on("click",function(){0==$(".pokeList").contents().length&&pokemonRepository.loadList().then(function(){pokemonRepository.getAll().forEach(function(o){pokemonRepository.addListItem(o)})})});